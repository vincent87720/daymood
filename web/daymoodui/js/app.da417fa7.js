(function(t){function e(e){for(var r,a,c=e[0],s=e[1],p=e[2],u=0,d=[];u<c.length;u++)a=c[u],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&d.push(n[a][0]),n[a]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);l&&l(e);while(d.length)d.shift()();return o.push.apply(o,p||[]),i()}function i(){for(var t,e=0;e<o.length;e++){for(var i=o[e],r=!0,c=1;c<i.length;c++){var s=i[c];0!==n[s]&&(r=!1)}r&&(o.splice(e--,1),t=a(a.s=i[0]))}return t}var r={},n={app:0},o=[];function a(e){if(r[e])return r[e].exports;var i=r[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=r,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(i,r,function(e){return t[e]}.bind(null,r));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/daymood/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var p=0;p<c.length;p++)e(c[p]);var l=s;o.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"244d":function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var r=i("2b0e"),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("v-app-bar",{staticClass:"appbar d-flex justify-center",attrs:{app:"",flat:""}},[r("div",{staticClass:"pa-3"},[r("img",{attrs:{src:i("5bcc"),width:"120"}})])]),r("v-main",[r("Products",{ref:"ProductsComponent",attrs:{prop_activeType:t.activeType},on:{"update:prop_activeType":function(e){t.activeType=e},"update:prop_active-type":function(e){t.activeType=e}}})],1),r("v-bottom-navigation",{attrs:{dark:"",grow:"",app:""},model:{value:t.activeType,callback:function(e){t.activeType=e},expression:"activeType"}},[r("v-btn",{attrs:{"x-large":"",activeType:"productPurchase"}},[r("span",[t._v("進貨")]),r("v-icon",[t._v("mdi-package-down")])],1),r("v-btn",{attrs:{"x-large":"",activeType:"productManagement"}},[r("span",[t._v("商品管理")]),r("v-icon",[t._v("mdi-package-variant-closed")])],1),r("v-btn",{attrs:{"x-large":"",activeType:"firmManagement"}},[r("span",[t._v("廠商管理")]),r("v-icon",[t._v("mdi-store-outline")])],1),r("v-btn",{attrs:{"x-large":"",activeType:"productDelivery"}},[r("span",[t._v("出貨")]),r("v-icon",[t._v("mdi-package-up")])],1)],1)],1)},o=[],a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-container",{staticClass:"d-none d-lg-block",attrs:{fluid:""}},[i("v-row",{staticClass:"ma-0"},[i("v-col",{staticClass:"pa-0 d-flex justify-end"},[1==t.activeType||2==t.activeType?i("div",[i("v-btn",{attrs:{icon:"",large:""},on:{click:t.onClick_newButton}},[i("v-icon",[t._v("mdi-plus")])],1),i("v-btn",{attrs:{icon:"",large:""},on:{click:t.onClick_download}},[i("v-icon",[t._v("mdi-download")])],1)],1):i("div",{staticClass:"pt-6 pb-5"}),i("v-btn",{attrs:{icon:"",large:""},on:{click:t.onClick_setting}},[i("v-icon",[t._v("mdi-cog")])],1)],1)],1)],1),i("v-container",[i("v-row",[i("v-col",{staticClass:"mr-auto ml-auto mt-2 d-flex align-center",attrs:{xs:"12",sm:"6"}},[i("v-text-field",{ref:"searchField",staticClass:"mx-4",attrs:{dark:"",solo:"","hide-details":"",label:"Search",clearable:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),3==t.activeType?i("v-btn",{attrs:{elevation:"2",large:"",icon:""},on:{click:t.onClick_search}},[i("v-icon",{attrs:{dark:""}},[t._v(" mdi-magnify ")])],1):t._e(),1==t.activeType||2==t.activeType?i("v-btn",{staticClass:"hidden-lg-and-up",attrs:{elevation:"2",icon:""},on:{click:t.onClick_newButton}},[i("v-icon",[t._v("mdi-plus")])],1):t._e(),1==t.activeType||2==t.activeType?i("v-btn",{staticClass:"hidden-lg-and-up",attrs:{icon:""},on:{click:t.onClick_download}},[i("v-icon",[t._v("mdi-download")])],1):t._e(),i("v-btn",{staticClass:"hidden-lg-and-up",attrs:{icon:""},on:{click:t.onClick_setting}},[i("v-icon",[t._v("mdi-cog")])],1)],1)],1),i("v-row",[i("v-col",{attrs:{cols:"12"}},[0==t.activeType||1==t.activeType||2==t.activeType||3==t.activeType&&t.deliveryObj.Products?i("v-data-table",{staticClass:"elevation-1 mx-4 mb-4",attrs:{headers:t.headerSelector(),items:t.contentSelector(),"items-per-page":7,search:t.search,dark:""},on:{"click:row":t.onClick_row},scopedSlots:t._u([{key:"top",fn:function(){return[i("div",{staticClass:"d-flex"},[i("v-card",{staticClass:"elevation-1"},[t.deliveryObj.Products&&3==t.activeType?i("v-list-item",{attrs:{"two-line":""}},[i("v-list-item-content",[i("div",{staticClass:"text-overline"},[t._v(" 訂單資訊 ")]),i("v-list-item-title",{staticClass:"text-h5 mb-1"},[t._v(" "+t._s(t.deliveryObj.DeliveryOrderID)+" ")]),i("v-list-item-subtitle",[t._v(" 預計總金額 $"+t._s(t.deliveryObj.DeliveryOrderTotal)+" "),i("br"),t._v(" 折扣　　　 $"+t._s(t.deliveryObj.Discount)+" "),i("br"),t._v(" 實際總金額 $"+t._s(t.deliveryObj.EasyStoreOrderTotal)+" ")])],1)],1):t._e()],1),i("v-spacer"),3==t.activeType?i("v-btn",{attrs:{plain:"",icon:""},on:{click:t.onClick_removeDeliveryInfo}},[i("v-icon",{attrs:{dark:""}},[t._v(" mdi-close ")])],1):t._e()],1)]},proxy:!0},{key:"item.actions",fn:function(e){var r=e.item;return[i("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return e.stopPropagation(),t.onClick_editButton(r)}}},[t._v(" mdi-pencil ")]),i("v-icon",{attrs:{small:""},on:{click:function(e){return e.stopPropagation(),t.onClick_deleteButton(r)}}},[t._v(" mdi-delete ")])]}}],null,!1,2167036560)}):t._e()],1),t.deliveryObj.Products&&3==t.activeType?i("v-col",{staticClass:"d-flex justify-end",attrs:{cols:"12"}},[i("v-btn",{staticClass:"mx-4",attrs:{elevation:"2",outlined:"",color:"#796956","x-large":""},on:{click:t.onClick_delivery}},[t._v(" 出貨 ")])],1):t._e()],1)],1),i("PurchaseDialog",{attrs:{prop_purchaseDialog:t.purchaseDialog,prop_text_cardTitle:t.text_cardTitle,prop_text_confirmBtn:t.text_confirmBtn,prop_productID:t.productID,prop_productSku:t.productSku,prop_productName:t.productName,prop_productStocks:t.productStocks},on:{"update:prop_purchaseDialog":function(e){t.purchaseDialog=e},"update:prop_purchase-dialog":function(e){t.purchaseDialog=e},"update:prop_productID":function(e){t.productID=e},"update:prop_product-i-d":function(e){t.productID=e},"update:prop_productSku":function(e){t.productSku=e},"update:prop_product-sku":function(e){t.productSku=e},"update:prop_productName":function(e){t.productName=e},"update:prop_product-name":function(e){t.productName=e},"update:prop_productStocks":function(e){t.productStocks=e},"update:prop_product-stocks":function(e){t.productStocks=e},confirmClick:t.onPurchaseDialogConfirmClick}}),i("ProductDialog",{attrs:{prop_productDialog:t.productDialog,prop_text_cardTitle:t.text_cardTitle,prop_text_confirmBtn:t.text_confirmBtn,prop_actionType:t.actionType,prop_productID:t.productID,prop_productSku:t.productSku,prop_purchaseProductID:t.purchaseProductID,prop_productName:t.productName,prop_productType:t.productType,prop_productImgName:t.productImgName,prop_productImgID:t.productImgID,prop_productWeight:t.productWeight,prop_krwWholesalePrice:t.krwWholesalePrice,prop_ntdWholesalePrice:t.ntdWholesalePrice,prop_ntdListPrice:t.ntdListPrice,prop_ntdSellingPrice:t.ntdSellingPrice,prop_ntdCnf:t.ntdCnf,prop_ntdCost:t.ntdCost,prop_firmID:t.firmID,prop_firmList:t.firmList,prop_tradingSettings:t.tradingSettings},on:{"update:prop_productDialog":function(e){t.productDialog=e},"update:prop_product-dialog":function(e){t.productDialog=e},"update:prop_actionType":function(e){t.actionType=e},"update:prop_action-type":function(e){t.actionType=e},"update:prop_productID":function(e){t.productID=e},"update:prop_product-i-d":function(e){t.productID=e},"update:prop_productSku":function(e){t.productSku=e},"update:prop_product-sku":function(e){t.productSku=e},"update:prop_purchaseProductID":function(e){t.purchaseProductID=e},"update:prop_purchase-product-i-d":function(e){t.purchaseProductID=e},"update:prop_productName":function(e){t.productName=e},"update:prop_product-name":function(e){t.productName=e},"update:prop_productType":function(e){t.productType=e},"update:prop_product-type":function(e){t.productType=e},"update:prop_productImgName":function(e){t.productImgName=e},"update:prop_product-img-name":function(e){t.productImgName=e},"update:prop_productImgID":function(e){t.productImgID=e},"update:prop_product-img-i-d":function(e){t.productImgID=e},"update:prop_productWeight":function(e){t.productWeight=e},"update:prop_product-weight":function(e){t.productWeight=e},"update:prop_krwWholesalePrice":function(e){t.krwWholesalePrice=e},"update:prop_krw-wholesale-price":function(e){t.krwWholesalePrice=e},"update:prop_ntdWholesalePrice":function(e){t.ntdWholesalePrice=e},"update:prop_ntd-wholesale-price":function(e){t.ntdWholesalePrice=e},"update:prop_ntdListPrice":function(e){t.ntdListPrice=e},"update:prop_ntd-list-price":function(e){t.ntdListPrice=e},"update:prop_ntdSellingPrice":function(e){t.ntdSellingPrice=e},"update:prop_ntd-selling-price":function(e){t.ntdSellingPrice=e},"update:prop_ntdCnf":function(e){t.ntdCnf=e},"update:prop_ntd-cnf":function(e){t.ntdCnf=e},"update:prop_ntdCost":function(e){t.ntdCost=e},"update:prop_ntd-cost":function(e){t.ntdCost=e},"update:prop_firmID":function(e){t.firmID=e},"update:prop_firm-i-d":function(e){t.firmID=e},confirmClick:t.onProductDialogConfirmClick}}),i("ProductInfoDialog",{attrs:{prop_productInfoDialog:t.productInfoDialog,prop_productID:t.productID,prop_productSku:t.productSku,prop_purchaseProductID:t.purchaseProductID,prop_productName:t.productName,prop_productType:t.productType,prop_productImgID:t.productImgID,prop_productWeight:t.productWeight,prop_krwWholesalePrice:t.krwWholesalePrice,prop_ntdWholesalePrice:t.ntdWholesalePrice,prop_ntdListPrice:t.ntdListPrice,prop_ntdSellingPrice:t.ntdSellingPrice,prop_ntdCnf:t.ntdCnf,prop_ntdCost:t.ntdCost,prop_firmID:t.firmID,prop_firmList:t.firmList},on:{"update:prop_productInfoDialog":function(e){t.productInfoDialog=e},"update:prop_product-info-dialog":function(e){t.productInfoDialog=e},"update:prop_productID":function(e){t.productID=e},"update:prop_product-i-d":function(e){t.productID=e},"update:prop_productSku":function(e){t.productSku=e},"update:prop_product-sku":function(e){t.productSku=e},"update:prop_purchaseProductID":function(e){t.purchaseProductID=e},"update:prop_purchase-product-i-d":function(e){t.purchaseProductID=e},"update:prop_productName":function(e){t.productName=e},"update:prop_product-name":function(e){t.productName=e},"update:prop_productType":function(e){t.productType=e},"update:prop_product-type":function(e){t.productType=e},"update:prop_productImgID":function(e){t.productImgID=e},"update:prop_product-img-i-d":function(e){t.productImgID=e},"update:prop_productWeight":function(e){t.productWeight=e},"update:prop_product-weight":function(e){t.productWeight=e},"update:prop_krwWholesalePrice":function(e){t.krwWholesalePrice=e},"update:prop_krw-wholesale-price":function(e){t.krwWholesalePrice=e},"update:prop_ntdWholesalePrice":function(e){t.ntdWholesalePrice=e},"update:prop_ntd-wholesale-price":function(e){t.ntdWholesalePrice=e},"update:prop_ntdListPrice":function(e){t.ntdListPrice=e},"update:prop_ntd-list-price":function(e){t.ntdListPrice=e},"update:prop_ntdSellingPrice":function(e){t.ntdSellingPrice=e},"update:prop_ntd-selling-price":function(e){t.ntdSellingPrice=e},"update:prop_ntdCnf":function(e){t.ntdCnf=e},"update:prop_ntd-cnf":function(e){t.ntdCnf=e},"update:prop_ntdCost":function(e){t.ntdCost=e},"update:prop_ntd-cost":function(e){t.ntdCost=e},"update:prop_firmID":function(e){t.firmID=e},"update:prop_firm-i-d":function(e){t.firmID=e}}}),i("FirmDialog",{attrs:{prop_firmDialog:t.firmDialog,prop_text_cardTitle:t.text_cardTitle,prop_text_confirmBtn:t.text_confirmBtn,prop_firmID:t.firmID,prop_firmName:t.firmName,prop_firmAddress:t.firmAddress,prop_remark:t.remark},on:{"update:prop_firmDialog":function(e){t.firmDialog=e},"update:prop_firm-dialog":function(e){t.firmDialog=e},"update:prop_firmID":function(e){t.firmID=e},"update:prop_firm-i-d":function(e){t.firmID=e},"update:prop_firmName":function(e){t.firmName=e},"update:prop_firm-name":function(e){t.firmName=e},"update:prop_firmAddress":function(e){t.firmAddress=e},"update:prop_firm-address":function(e){t.firmAddress=e},"update:prop_remark":function(e){t.remark=e},confirmClick:t.onFirmDialogConfirmClick}}),i("SettingDialog",{attrs:{prop_settingDialog:t.settingDialog,prop_text_cardTitle:t.text_cardTitle,prop_text_confirmBtn:t.text_confirmBtn,prop_ajeossi:t.ajeossi,prop_shippingFee:t.shippingFee,prop_exchangeRate:t.exchangeRate,prop_tariff:t.tariff,prop_markup:t.markup},on:{"update:prop_settingDialog":function(e){t.settingDialog=e},"update:prop_setting-dialog":function(e){t.settingDialog=e},"update:prop_ajeossi":function(e){t.ajeossi=e},"update:prop_shippingFee":function(e){t.shippingFee=e},"update:prop_shipping-fee":function(e){t.shippingFee=e},"update:prop_exchangeRate":function(e){t.exchangeRate=e},"update:prop_exchange-rate":function(e){t.exchangeRate=e},"update:prop_tariff":function(e){t.tariff=e},"update:prop_markup":function(e){t.markup=e},confirmClick:t.onSettingDialogConfirmClick}}),i("ConfirmDialog",{attrs:{prop_confirmDialog:t.confirmDialog,prop_text_cardTitle:t.text_cardTitle,prop_text_confirmBtn:t.text_confirmBtn,prop_deleteTarget:t.deleteTarget},on:{"update:prop_confirmDialog":function(e){t.confirmDialog=e},"update:prop_confirm-dialog":function(e){t.confirmDialog=e},"update:prop_deleteTarget":function(e){t.deleteTarget=e},"update:prop_delete-target":function(e){t.deleteTarget=e},confirmClick:t.onConfirmDialogConfirmClick}}),i("Alert",{attrs:{prop_alert:t.alert,prop_alertType:t.alertType,prop_alertText:t.alertText},on:{"update:prop_alert":function(e){t.alert=e}}})],1)},c=[],s=(i("a9e3"),i("d3b7"),i("25f0"),i("ac1f"),i("841c"),i("e9c4"),i("4d7f")),p=i.n(s),l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{fullscreen:""},on:{"click:outside":t.onClick_cancel},model:{value:t.purchaseDialog,callback:function(e){t.purchaseDialog=e},expression:"purchaseDialog"}},[i("v-card",{staticClass:"d-flex align-center flex-column justify-center"},[i("v-card-title",{staticClass:"text-h5"},[t._v(" "+t._s(t.text_cardTitle)+" ")]),i("v-container",{staticClass:"pa-6"},[i("v-row",[i("v-col",{staticClass:"ml-auto mr-auto",attrs:{xs:"12",sm:"6"}},[i("v-form",{ref:"form",model:{value:t.valid_purchaseForm,callback:function(e){t.valid_purchaseForm=e},expression:"valid_purchaseForm"}},[i("v-text-field",{attrs:{label:"商品編號",value:t.productSku,"prepend-icon":"mdi-identifier",readonly:""}}),i("v-text-field",{attrs:{label:"商品名稱",value:t.productName,"prepend-icon":"mdi-text-short",readonly:""}}),i("v-text-field",{attrs:{label:"目前剩餘庫存",value:t.productStocks,"prepend-icon":"mdi-package-variant",readonly:""}}),i("v-text-field",{attrs:{rules:t.text_requiredRules_isNumber,label:"進貨數量","prepend-icon":"mdi-package-variant",autofocus:"",required:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.onClick_confirm.apply(null,arguments))}},model:{value:t.purchaseQty,callback:function(e){t.purchaseQty=e},expression:"purchaseQty"}})],1)],1)],1)],1),i("v-card-actions",{staticClass:"pa-6 pt-3"},[i("v-spacer"),i("v-btn",{attrs:{outlined:"",rounded:"",text:""},on:{click:function(e){return e.stopPropagation(),t.onClick_cancel.apply(null,arguments)}}},[t._v(" 取消 ")]),i("v-btn",{attrs:{outlined:"",rounded:"",text:"",disabled:!t.valid_purchaseForm},on:{click:function(e){return e.stopPropagation(),t.onClick_confirm.apply(null,arguments)}}},[t._v(" "+t._s(t.text_confirmBtn)+" ")])],1)],1)],1)},u=[],d={name:"PurchaseDialog",components:{},data:function(){return{purchaseQty:null,valid_purchaseForm:!1,text_requiredRules:[function(t){return!!t||"必填"}],text_requiredRules_isNumber:[function(t){return!!t||"必填"},function(t){return!!parseFloat(t)||"必須為數字"}]}},props:{prop_purchaseDialog:{type:Boolean,required:!0},prop_text_cardTitle:{type:String,required:!0},prop_text_confirmBtn:{type:String,required:!0},prop_productID:{type:Number,required:!1},prop_productSku:{type:String,required:!1},prop_productName:{type:String,required:!1},prop_productStocks:{type:Number,required:!1}},computed:{purchaseDialog:{get:function(){return this.prop_purchaseDialog},set:function(t){this.$emit("update:prop_purchaseDialog",t)}},text_cardTitle:{get:function(){return this.prop_text_cardTitle},set:function(t){this.$emit("update:prop_text_cardTitle",t)}},text_confirmBtn:{get:function(){return this.prop_text_confirmBtn},set:function(t){this.$emit("update:prop_text_confirmBtn",t)}},productID:{get:function(){return this.prop_productID},set:function(t){this.$emit("update:prop_productID",t)}},productSku:{get:function(){return this.prop_productSku},set:function(t){this.$emit("update:prop_productSku",t)}},productName:{get:function(){return this.prop_productName},set:function(t){this.$emit("update:prop_productName",t)}},productStocks:{get:function(){return this.prop_productStocks},set:function(t){this.$emit("update:prop_productStocks",t)}}},methods:{onClick_confirm:function(){if(this.$refs.form.validate(),0!=this.valid_purchaseForm){var t={};t.productID=this.productID,t.productSku=this.productSku,t.productName=this.productName,t.stocks=this.productStocks,t.quantity=this.purchaseQty,this.$emit("confirmClick",t),this.resetForm()}},onClick_cancel:function(){this.purchaseDialog=!1,this.resetForm()},resetForm:function(){this.$refs.form.reset(),this.productID=null,this.productSku=null,this.productName=null,this.productStocks=null,this.purchaseQty=null}},watch:{purchaseDialog:function(){0==this.purchaseDialog&&this.resetForm()}}},f=d,m=i("2877"),h=i("6544"),g=i.n(h),_=i("8336"),v=i("b0af"),y=i("99d9"),k=i("62ad"),x=i("a523"),D=i("169a"),C=i("4bd4"),T=i("0fd9"),P=i("2fa4"),S=i("8654"),I=Object(m["a"])(f,l,u,!1,null,null,null),b=I.exports;g()(I,{VBtn:_["a"],VCard:v["a"],VCardActions:y["a"],VCardTitle:y["c"],VCol:k["a"],VContainer:x["a"],VDialog:D["a"],VForm:C["a"],VRow:T["a"],VSpacer:P["a"],VTextField:S["a"]});var w=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{fullscreen:""},on:{"click:outside":t.onClick_cancel},model:{value:t.productDialog,callback:function(e){t.productDialog=e},expression:"productDialog"}},[i("v-card",{staticClass:"d-flex align-center flex-column justify-center",attrs:{width:"100"}},[i("v-card-title",{staticClass:"text-h5 mt-4"},[t._v(" "+t._s(t.text_cardTitle)+" ")]),i("v-container",{staticClass:"pa-6",attrs:{fluid:""}},[i("v-form",{ref:"form",model:{value:t.valid_productForm,callback:function(e){t.valid_productForm=e},expression:"valid_productForm"}},[i("v-row",{staticClass:"ma-0 d-flex justify-center"},[i("v-col",{attrs:{cols:"6",sm:"4",md:"3"}},[i("v-text-field",{ref:"textFieldWidth",attrs:{label:"商品編號",rules:t.text_requiredRules,"prepend-icon":"mdi-identifier",autofocus:"",required:"",dense:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.onClick_confirm.apply(null,arguments))}},model:{value:t.productSku,callback:function(e){t.productSku=e},expression:"productSku"}})],1),i("v-col",{attrs:{cols:"6",sm:"4",md:"3"}},[i("v-text-field",{attrs:{label:"採購商品編號",rules:t.text_requiredRules,"prepend-icon":"mdi-identifier",required:"",dense:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.onClick_confirm.apply(null,arguments))}},model:{value:t.purchaseProductID,callback:function(e){t.purchaseProductID=e},expression:"purchaseProductID"}})],1)],1),i("v-row",{staticClass:"ma-0 d-flex justify-center"},[i("v-col",{attrs:{cols:"6",sm:"4",md:"3"}},[i("v-select",{staticClass:"overflow-hidden",attrs:{label:"廠商",rules:t.text_requiredRules,"prepend-icon":"mdi-store-outline",items:t.firmList,"item-text":"Name","item-value":"ID",required:"",dense:"","full-width":""},model:{value:t.firmID,callback:function(e){t.firmID=e},expression:"firmID"}})],1),i("v-col",{attrs:{cols:"6",sm:"4",md:"3"}},[i("v-select",{attrs:{label:"商品種類",rules:t.text_requiredRules,"prepend-icon":"mdi-store-outline",items:t.typeList,"item-text":"name","item-value":"val",required:"",dense:"","full-width":""},model:{value:t.productType,callback:function(e){t.productType=e},expression:"productType"}})],1)],1),i("v-row",{staticClass:"ma-0 d-flex justify-center"},[i("v-col",{attrs:{cols:"6",sm:"4",md:"3"}},[i("v-text-field",{attrs:{label:"商品名稱",rules:t.text_requiredRules,"prepend-icon":"mdi-text-short",required:"",dense:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.onClick_confirm.apply(null,arguments))}},model:{value:t.productName,callback:function(e){t.productName=e},expression:"productName"}})],1),i("v-col",{attrs:{cols:"6",sm:"4",md:"3"}},[i("v-text-field",{attrs:{label:"商品重量(g)",rules:t.text_requiredRules_isNumber,"prepend-icon":"mdi-weight-gram",required:"",dense:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.onClick_confirm.apply(null,arguments))}},model:{value:t.productWeight,callback:function(e){t.productWeight=e},expression:"productWeight"}})],1)],1),i("v-row",{staticClass:"ma-0 d-flex justify-center"},[i("v-col",{attrs:{cols:"12",sm:"8",md:"6"}},[i("v-file-input",{ref:"imgFile",attrs:{id:"imgFile",clearable:"","truncate-length":"15","prepend-icon":"mdi-image",label:"商品圖片",dense:""},on:{"click:clear":t.clearFileInput},model:{value:t.imgFile,callback:function(e){t.imgFile=e},expression:"imgFile"}})],1)],1),i("v-row",{staticClass:"ma-0 d-flex justify-center"},[i("v-col",{attrs:{cols:"6",sm:"4",md:"3"}},[i("v-text-field",{attrs:{label:"批價(KRW)",rules:t.text_requiredRules_isNumber,"prepend-icon":"mdi-currency-krw",required:"",dense:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.onClick_confirm.apply(null,arguments))}},model:{value:t.krwWholesalePrice,callback:function(e){t.krwWholesalePrice=e},expression:"krwWholesalePrice"}})],1),i("v-col",{attrs:{cols:"6",sm:"4",md:"3"}},[i("v-text-field",{attrs:{label:"批價(TWD)",placeholder:t.calc_ntdWholesalePrice(),rules:t.text_requiredRules_isNumber,"prepend-icon":"mdi-currency-twd",required:"",dense:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.onClick_confirm.apply(null,arguments))}},model:{value:t.ntdWholesalePrice,callback:function(e){t.ntdWholesalePrice=e},expression:"ntdWholesalePrice"}})],1)],1),i("v-row",{staticClass:"ma-0 d-flex justify-center"},[i("v-col",{attrs:{cols:"6",sm:"4",md:"3"}},[i("v-text-field",{attrs:{label:"定價(TWD)",placeholder:t.calc_listPrice(),rules:t.text_requiredRules_isNumber,"prepend-icon":"mdi-currency-twd",required:"",dense:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.onClick_confirm.apply(null,arguments))}},model:{value:t.ntdListPrice,callback:function(e){t.ntdListPrice=e},expression:"ntdListPrice"}})],1),i("v-col",{attrs:{cols:"6",sm:"4",md:"3"}},[i("v-text-field",{attrs:{label:"售價(TWD)",rules:t.text_requiredRules_isNumber,"prepend-icon":"mdi-currency-twd",required:"",dense:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.onClick_confirm.apply(null,arguments))}},model:{value:t.ntdSellingPrice,callback:function(e){t.ntdSellingPrice=e},expression:"ntdSellingPrice"}})],1)],1),i("v-row",{staticClass:"ma-0 d-flex justify-center"},[i("v-col",{attrs:{cols:"6",sm:"4",md:"3"}},[i("v-text-field",{attrs:{label:"含稅運成本(TWD)",placeholder:t.calc_cnfCost(),rules:t.text_requiredRules_isNumber,"prepend-icon":"mdi-currency-twd",required:"",dense:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.onClick_confirm.apply(null,arguments))}},model:{value:t.ntdCnf,callback:function(e){t.ntdCnf=e},expression:"ntdCnf"}})],1),i("v-col",{attrs:{cols:"6",sm:"4",md:"3"}},[i("v-text-field",{attrs:{label:"總成本(TWD)",placeholder:t.calc_cost(),rules:t.text_requiredRules_isNumber,"prepend-icon":"mdi-currency-twd",required:"",dense:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.onClick_confirm.apply(null,arguments))}},model:{value:t.ntdCost,callback:function(e){t.ntdCost=e},expression:"ntdCost"}})],1)],1),i("v-row",{staticClass:"ma-0 d-flex justify-center"},[i("v-col",{attrs:{cols:"6",sm:"4",md:"3"}},[i("v-text-field",{attrs:{label:"毛利(TWD)","prepend-icon":"mdi-currency-twd",dense:"",disabled:""},model:{value:t.grossMargin,callback:function(e){t.grossMargin=e},expression:"grossMargin"}})],1),i("v-col",{attrs:{cols:"6",sm:"4",md:"3"}},[i("v-text-field",{attrs:{label:"毛利率(%)","prepend-icon":"mdi-percent",dense:"",disabled:""},model:{value:t.profitMargin,callback:function(e){t.profitMargin=e},expression:"profitMargin"}})],1)],1)],1)],1),i("div",{staticClass:"pa-6 pt-3"},[i("v-btn",{staticClass:"mx-2",attrs:{outlined:"",rounded:"",text:""},on:{click:function(e){return e.stopPropagation(),t.onClick_cancel.apply(null,arguments)}}},[t._v(" 取消 ")]),i("v-btn",{staticClass:"mx-2",attrs:{outlined:"",rounded:"",text:"",disabled:!t.valid_productForm},on:{click:function(e){return e.stopPropagation(),t.onClick_confirm.apply(null,arguments)}}},[t._v(" "+t._s(t.text_confirmBtn)+" ")])],1)],1)],1)},F=[],N=(i("b680"),{name:"ProductDialog",components:{},data:function(){return{imgFile:null,fooFile:null,valid_productForm:!1,typeList:[{name:"耳環",val:"earrings"},{name:"耳骨夾",val:"earcuff"},{name:"項鍊",val:"necklace"},{name:"戒指",val:"rings"},{name:"手鍊",val:"bracelet"}],text_requiredRules:[function(t){return!!t||"必填"}],text_requiredRules_isNumber:[function(t){return!!t||"必填"},function(t){return!!parseFloat(t)||"必須為數字"}],grossMargin:null,profitMargin:null}},mounted:function(){},props:{prop_productDialog:{type:Boolean,required:!0},prop_text_cardTitle:{type:String,required:!0},prop_text_confirmBtn:{type:String,required:!0},prop_actionType:{type:String,required:!1},prop_productID:{type:Number,required:!1},prop_productSku:{type:String,required:!1},prop_purchaseProductID:{type:String,required:!1},prop_productName:{type:String,required:!1},prop_productType:{type:String,required:!1},prop_productImgName:{type:String,required:!1},prop_productImgID:{type:String,required:!1},prop_productWeight:{type:String,required:!1},prop_krwWholesalePrice:{type:String,required:!1},prop_ntdWholesalePrice:{type:String,required:!1},prop_ntdListPrice:{type:String,required:!1},prop_ntdSellingPrice:{type:String,required:!1},prop_ntdCnf:{type:String,required:!1},prop_ntdCost:{type:String,required:!1},prop_firmID:{type:Number,required:!1},prop_firmList:{type:Array,required:!1},prop_tradingSettings:{type:Object,required:!0}},computed:{productDialog:{get:function(){return this.prop_productDialog},set:function(t){this.$emit("update:prop_productDialog",t)}},text_cardTitle:{get:function(){return this.prop_text_cardTitle},set:function(t){this.$emit("update:prop_text_cardTitle",t)}},text_confirmBtn:{get:function(){return this.prop_text_confirmBtn},set:function(t){this.$emit("update:prop_text_confirmBtn",t)}},actionType:{get:function(){return this.prop_actionType},set:function(t){this.$emit("update:prop_actionType",t)}},productID:{get:function(){return this.prop_productID},set:function(t){this.$emit("update:prop_productID",t)}},productSku:{get:function(){return this.prop_productSku},set:function(t){this.$emit("update:prop_productSku",t)}},purchaseProductID:{get:function(){return this.prop_purchaseProductID},set:function(t){this.$emit("update:prop_purchaseProductID",t)}},productName:{get:function(){return this.prop_productName},set:function(t){this.$emit("update:prop_productName",t)}},productType:{get:function(){return this.prop_productType},set:function(t){this.$emit("update:prop_productType",t)}},productImgName:{get:function(){return this.prop_productImgName},set:function(t){this.$emit("update:prop_productImgName",t)}},productImgID:{get:function(){return this.prop_productImgID},set:function(t){this.$emit("update:prop_productImgID",t)}},productWeight:{get:function(){return this.prop_productWeight},set:function(t){this.$emit("update:prop_productWeight",t)}},krwWholesalePrice:{get:function(){return this.prop_krwWholesalePrice},set:function(t){this.$emit("update:prop_krwWholesalePrice",t)}},ntdWholesalePrice:{get:function(){return this.prop_ntdWholesalePrice},set:function(t){this.$emit("update:prop_ntdWholesalePrice",t)}},ntdListPrice:{get:function(){return this.prop_ntdListPrice},set:function(t){this.$emit("update:prop_ntdListPrice",t)}},ntdSellingPrice:{get:function(){return this.prop_ntdSellingPrice},set:function(t){this.$emit("update:prop_ntdSellingPrice",t)}},ntdCnf:{get:function(){return this.prop_ntdCnf},set:function(t){this.$emit("update:prop_ntdCnf",t)}},ntdCost:{get:function(){return this.prop_ntdCost},set:function(t){this.$emit("update:prop_ntdCost",t)}},firmID:{get:function(){return this.prop_firmID},set:function(t){this.$emit("update:prop_firmID",t)}},firmList:{get:function(){return this.prop_firmList},set:function(t){this.$emit("update:prop_firmList",t)}},tradingSettings:{get:function(){return this.prop_tradingSettings},set:function(t){this.$emit("update:prop_tradingSettings",t)}}},methods:{onClick_confirm:function(){if(this.$refs.form.validate(),0!=this.valid_productForm){var t={};t.actionType=this.actionType,t.productID=this.productID,t.productSku=this.productSku,t.purchaseProductID=this.purchaseProductID,t.productName=this.productName,t.productType=this.productType,t.productWeight=this.productWeight,t.krwWholesalePrice=this.krwWholesalePrice,t.ntdWholesalePrice=this.ntdWholesalePrice,t.ntdListPrice=this.ntdListPrice,t.ntdSellingPrice=this.ntdSellingPrice,t.ntdCnf=this.ntdCnf,t.ntdCost=this.ntdCost,t.firmID=this.firmID,t.fooFile=this.fooFile,t.imgFile=this.imgFile,t.productImgName=this.productImgName,t.productImgID=this.productImgID,console.log(this.fooFile),console.log(this.imgFile),this.$emit("confirmClick",t),this.resetForm()}},onClick_cancel:function(){this.productDialog=!1,this.resetForm()},resetForm:function(){this.productID=null,this.productSku=null,this.purchaseProductID=null,this.productName=null,this.productType=null,this.productImgName=null,this.productImgID=null,this.productWeight=null,this.krwWholesalePrice=null,this.ntdWholesalePrice=null,this.ntdListPrice=null,this.ntdSellingPrice=null,this.ntdCnf=null,this.ntdCost=null,this.imgFile=null,this.fooFile=null,this.$refs.form.reset()},clearFileInput:function(){this.$refs.imgFile.reset(),this.imgFile=null},calc_ntdWholesalePrice:function(){return(this.krwWholesalePrice/this.tradingSettings.ExchangeRate).toFixed(2).toString()},calc_listPrice:function(){var t=(this.krwWholesalePrice/this.tradingSettings.ExchangeRate*this.tradingSettings.Markup).toFixed();return t%10==0?t.toString():t%10>1?(t-t%10+10).toString():(t-t%10).toString()},calc_param:function(){var t={},e=this.productWeight/1e3;return t.ajeossiCalc=this.tradingSettings.Ajeossi/100+1,t.shippingFeeCalc=e*this.tradingSettings.ShippingFee,t.tariffCalc=e*this.tradingSettings.Tariff,t},calc_cnfCost:function(){var t=this.calc_param();return((this.krwWholesalePrice*t.ajeossiCalc+t.shippingFeeCalc)/this.tradingSettings.ExchangeRate+t.tariffCalc).toFixed(2).toString()},calc_cost:function(){var t=this.calc_param();return((this.krwWholesalePrice*t.ajeossiCalc+t.shippingFeeCalc)/this.tradingSettings.ExchangeRate+t.tariffCalc+25).toFixed(2).toString()},calc_grossMargin:function(){this.grossMargin=this.ntdSellingPrice-this.ntdCost;var t=((this.ntdSellingPrice-this.ntdCost)/this.ntdSellingPrice).toFixed(2).toString();0==isNaN(t)?this.profitMargin=t:this.profitMargin=0}},watch:{productDialog:function(){if(0==this.productDialog)this.resetForm();else if("put"==this.actionType&&this.productImgName){var t=new File(["foo"],this.productImgName,{type:"text/plain",name:this.productImgName});this.imgFile=t,this.fooFile=t}},ntdSellingPrice:function(){this.calc_grossMargin()},ntdCost:function(){this.calc_grossMargin()}}}),W=N,q=(i("c395"),i("23a7")),$=i("b974"),j=Object(m["a"])(W,w,F,!1,null,"61d2d3f2",null),R=j.exports;g()(j,{VBtn:_["a"],VCard:v["a"],VCardTitle:y["c"],VCol:k["a"],VContainer:x["a"],VDialog:D["a"],VFileInput:q["a"],VForm:C["a"],VRow:T["a"],VSelect:$["a"],VTextField:S["a"]});var L=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{"overlay-opacity":"0.9","max-width":"344"},on:{"click:outside":t.onClick_cancel},model:{value:t.productInfoDialog,callback:function(e){t.productInfoDialog=e},expression:"productInfoDialog"}},[i("v-card",{attrs:{"max-width":"344"}},[t.imgSrc?i("v-img",{staticClass:"ma-0",attrs:{"lazy-src":t.imgSrc,src:t.imgSrc,"max-height":"150","max-width":"344"}}):t._e(),i("div",{staticClass:"d-flex justify-space-between"},[i("div",{staticClass:" pl-6 pt-5"},[i("div",[t._v(t._s(t.select_type)+" / "+t._s(t.productSku)+" / "+t._s(t.purchaseProductID))]),i("p",{staticClass:"text-h4"},[t._v(" "+t._s(t.productName)+" ")]),i("p",{staticClass:"text-h6"},[t._v(" "+t._s(t.firmName)+" ")])]),i("div",{staticClass:" pr-3 pt-3"},[i("v-btn",{staticClass:"d-flex align-self-end",attrs:{icon:""},on:{click:function(e){return e.stopPropagation(),t.onClick_cancel.apply(null,arguments)}}},[i("v-icon",[t._v("mdi-close")])],1)],1)]),i("v-card-text",[i("div",{staticClass:"d-flex justify-space-between align-center mb-3"},[i("div",{staticClass:"d-flex align-center"},[i("v-icon",{staticClass:"mr-1"},[t._v("mdi-weight-gram")]),i("p",{staticClass:"ma-0 text-subtitle-1 font-weight-medium"},[t._v("商品重量(g)")])],1),i("p",{staticClass:"ma-0 text-subtitle-1 font-weight-bold"},[t._v(" "+t._s(t.productWeight)+" g")])]),i("div",{staticClass:"d-flex justify-space-between align-center mb-3"},[i("div",{staticClass:"d-flex align-center"},[i("v-icon",{staticClass:"mr-1"},[t._v("mdi-currency-krw")]),i("p",{staticClass:"ma-0 text-subtitle-1 font-weight-medium"},[t._v("批價(KRW)")])],1),i("p",{staticClass:"ma-0 text-subtitle-1 font-weight-bold"},[t._v(" "+t._s(t.krwWholesalePrice)+" KRW")])]),i("div",{staticClass:"d-flex justify-space-between align-center mb-3"},[i("div",{staticClass:"d-flex align-center"},[i("v-icon",{staticClass:"mr-1"},[t._v("mdi-currency-twd")]),i("p",{staticClass:"ma-0 text-subtitle-1 font-weight-medium"},[t._v("批價(TWD)")])],1),i("p",{staticClass:"ma-0 text-subtitle-1 font-weight-bold"},[t._v(" "+t._s(t.ntdWholesalePrice)+" TWD")])]),i("div",{staticClass:"d-flex justify-space-between align-center mb-3"},[i("div",{staticClass:"d-flex align-center"},[i("v-icon",{staticClass:"mr-1"},[t._v("mdi-currency-twd")]),i("p",{staticClass:"ma-0 text-subtitle-1 font-weight-medium"},[t._v("定價(TWD)")])],1),i("p",{staticClass:"ma-0 text-subtitle-1 font-weight-bold"},[t._v(" "+t._s(t.ntdListPrice)+" TWD")])]),i("div",{staticClass:"d-flex justify-space-between align-center mb-3"},[i("div",{staticClass:"d-flex align-center"},[i("v-icon",{staticClass:"mr-1"},[t._v("mdi-currency-twd")]),i("p",{staticClass:"ma-0 text-subtitle-1 font-weight-medium"},[t._v("售價(TWD)")])],1),i("p",{staticClass:"ma-0 text-subtitle-1 font-weight-bold"},[t._v(" "+t._s(t.ntdSellingPrice)+" TWD")])]),i("div",{staticClass:"d-flex justify-space-between align-center mb-3"},[i("div",{staticClass:"d-flex align-center"},[i("v-icon",{staticClass:"mr-1"},[t._v("mdi-currency-twd")]),i("p",{staticClass:"ma-0 text-subtitle-1 font-weight-medium"},[t._v("含稅運成本(TWD)")])],1),i("p",{staticClass:"ma-0 text-subtitle-1 font-weight-bold"},[t._v(" "+t._s(t.ntdCnf)+" TWD")])]),i("div",{staticClass:"d-flex justify-space-between align-center mb-3"},[i("div",{staticClass:"d-flex align-center"},[i("v-icon",{staticClass:"mr-1"},[t._v("mdi-currency-twd")]),i("p",{staticClass:"ma-0 text-subtitle-1 font-weight-medium"},[t._v("總成本(TWD)")])],1),i("p",{staticClass:"ma-0 text-subtitle-1 font-weight-bold"},[t._v(" "+t._s(t.ntdCost)+" TWD")])]),i("div",{staticClass:"d-flex justify-space-between align-center mb-3"},[i("div",{staticClass:"d-flex align-center"},[i("v-icon",{staticClass:"mr-1"},[t._v("mdi-currency-twd")]),i("p",{staticClass:"ma-0 text-subtitle-1 font-weight-medium"},[t._v("毛利(TWD)")])],1),i("p",{staticClass:"ma-0 text-subtitle-1 font-weight-bold"},[t._v(" "+t._s(t.ntdSellingPrice-t.ntdCost)+" TWD")])]),i("div",{staticClass:"d-flex justify-space-between align-center mb-3"},[i("div",{staticClass:"d-flex align-center"},[i("v-icon",{staticClass:"mr-1"},[t._v("mdi-currency-twd")]),i("p",{staticClass:"ma-0 text-subtitle-1 font-weight-medium"},[t._v("毛利率(%)")])],1),i("p",{staticClass:"ma-0 text-subtitle-1 font-weight-bold"},[t._v(" "+t._s(((t.ntdSellingPrice-t.ntdCost)/t.ntdSellingPrice).toFixed(2)))])])])],1)],1)},V=[],B=(i("159b"),i("b0c0"),{name:"ProductInfoDialog",components:{},data:function(){return{valid_productForm:!1,select_type:null,typeList:[{name:"耳環",val:"earrings"},{name:"耳骨夾",val:"earcuff"},{name:"項鍊",val:"necklace"},{name:"戒指",val:"rings"},{name:"手鍊",val:"bracelet"}],tradingSettings:null,text_requiredRules:[function(t){return!!t||"必填"}],text_requiredRules_isNumber:[function(t){return!!t||"必填"},function(t){return!!parseFloat(t)||"必須為數字"}],firmName:null,imgSrc:null,ajeossi:0,shippingFee:0,exchangeRate:0,tariff:0,markup:0}},mounted:function(){},props:{prop_productInfoDialog:{type:Boolean,required:!0},prop_productID:{type:Number,required:!1},prop_productSku:{type:String,required:!1},prop_purchaseProductID:{type:String,required:!1},prop_productName:{type:String,required:!1},prop_productType:{type:String,required:!1},prop_productImgID:{type:String,required:!1},prop_productWeight:{type:String,required:!1},prop_krwWholesalePrice:{type:String,required:!1},prop_ntdWholesalePrice:{type:String,required:!1},prop_ntdListPrice:{type:String,required:!1},prop_ntdSellingPrice:{type:String,required:!1},prop_ntdCnf:{type:String,required:!1},prop_ntdCost:{type:String,required:!1},prop_firmID:{type:Number,required:!1},prop_firmList:{type:Array,required:!1}},computed:{productInfoDialog:{get:function(){return this.prop_productInfoDialog},set:function(t){this.$emit("update:prop_productInfoDialog",t)}},productID:{get:function(){return this.prop_productID},set:function(t){this.$emit("update:prop_productID",t)}},productSku:{get:function(){return this.prop_productSku},set:function(t){this.$emit("update:prop_productSku",t)}},purchaseProductID:{get:function(){return this.prop_purchaseProductID},set:function(t){this.$emit("update:prop_purchaseProductID",t)}},productName:{get:function(){return this.prop_productName},set:function(t){this.$emit("update:prop_productName",t)}},productType:{get:function(){return this.prop_productType},set:function(t){this.$emit("update:prop_productType",t)}},productImgID:{get:function(){return this.prop_productImgID},set:function(t){this.$emit("update:prop_productImgID",t)}},productWeight:{get:function(){return this.prop_productWeight},set:function(t){this.$emit("update:prop_productWeight",t)}},krwWholesalePrice:{get:function(){return this.prop_krwWholesalePrice},set:function(t){this.$emit("update:prop_krwWholesalePrice",t)}},ntdWholesalePrice:{get:function(){return this.prop_ntdWholesalePrice},set:function(t){this.$emit("update:prop_ntdWholesalePrice",t)}},ntdListPrice:{get:function(){return this.prop_ntdListPrice},set:function(t){this.$emit("update:prop_ntdListPrice",t)}},ntdSellingPrice:{get:function(){return this.prop_ntdSellingPrice},set:function(t){this.$emit("update:prop_ntdSellingPrice",t)}},ntdCnf:{get:function(){return this.prop_ntdCnf},set:function(t){this.$emit("update:prop_ntdCnf",t)}},ntdCost:{get:function(){return this.prop_ntdCost},set:function(t){this.$emit("update:prop_ntdCost",t)}},firmID:{get:function(){return this.prop_firmID},set:function(t){this.$emit("update:prop_firmID",t)}},firmList:{get:function(){return this.prop_firmList},set:function(t){this.$emit("update:prop_firmList",t)}}},methods:{onClick_cancel:function(){this.productInfoDialog=!1,this.resetForm()},resetForm:function(){this.productID=null,this.productSku=null,this.purchaseProductID=null,this.productName=null,this.productType=null,this.productImgID=null,this.productWeight=null,this.krwWholesalePrice=null,this.ntdWholesalePrice=null,this.ntdListPrice=null,this.ntdSellingPrice=null,this.ntdCnf=null,this.ntdCost=null,this.imgSrc=null},calc_listPrice:function(){var t=(this.krwWholesalePrice/this.exchangeRate*this.markup).toFixed();return t%10==0?t.toString():t%10>1?(t-t%10+10).toString():(t-t%10).toString()},calc_cnfCost:function(){var t=this.productWeight/1e3,e=this.ajeossi/100+1,i=t*this.shippingFee,r=t*this.tariff;return((this.krwWholesalePrice*e+i)/this.exchangeRate+r).toFixed(2).toString()},calc_cost:function(){var t=this.productWeight/1e3,e=this.ajeossi/100+1,i=t*this.shippingFee,r=t*this.tariff;return((this.krwWholesalePrice*e+i)/this.exchangeRate+r+25).toFixed(2).toString()},getProductType:function(){var t=this;this.typeList.forEach((function(e){e.val==t.productType&&(t.select_type=e.name)}))},getFirmName:function(){var t=this;this.firmList.forEach((function(e){e.ID==t.firmID&&(t.firmName=e.Name)}))}},watch:{productInfoDialog:function(){0==this.productInfoDialog?this.resetForm():(this.getProductType(),this.getFirmName())},productImgID:function(){this.productImgID&&(this.imgSrc="/products/images/"+this.productImgID)}}}),O=B,E=i("132d"),A=i("adda"),M=Object(m["a"])(O,L,V,!1,null,null,null),H=M.exports;g()(M,{VBtn:_["a"],VCard:v["a"],VCardText:y["b"],VDialog:D["a"],VIcon:E["a"],VImg:A["a"]});var K=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{fullscreen:""},on:{"click:outside":t.onClick_cancel},model:{value:t.firmDialog,callback:function(e){t.firmDialog=e},expression:"firmDialog"}},[i("v-card",{staticClass:"d-flex align-center flex-column justify-center"},[i("v-card-title",{staticClass:"text-h5"},[t._v(" "+t._s(t.text_cardTitle)+" ")]),i("v-container",{staticClass:"pa-6"},[i("v-row",[i("v-col",{staticClass:"ml-auto mr-auto",attrs:{cols:"12",sm:"6"}},[i("v-form",{ref:"form",model:{value:t.valid_firmForm,callback:function(e){t.valid_firmForm=e},expression:"valid_firmForm"}},[i("v-text-field",{attrs:{label:"廠商名稱",rules:t.text_requiredRules,"prepend-icon":"mdi-store-outline",autofocus:"",required:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.onClick_confirm.apply(null,arguments))}},model:{value:t.firmName,callback:function(e){t.firmName=e},expression:"firmName"}}),i("v-text-field",{attrs:{label:"廠商地址",rules:t.text_requiredRules,"prepend-icon":"mdi-map-marker-outline",required:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.onClick_confirm.apply(null,arguments))}},model:{value:t.firmAddress,callback:function(e){t.firmAddress=e},expression:"firmAddress"}}),i("v-text-field",{attrs:{label:"備註","prepend-icon":"mdi-text-long"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.onClick_confirm.apply(null,arguments))}},model:{value:t.remark,callback:function(e){t.remark=e},expression:"remark"}})],1)],1)],1)],1),i("div",{staticClass:"pa-6 pt-3"},[i("v-btn",{staticClass:"mx-2",attrs:{outlined:"",rounded:"",text:""},on:{click:function(e){return e.stopPropagation(),t.onClick_cancel.apply(null,arguments)}}},[t._v(" 取消 ")]),i("v-btn",{staticClass:"mx-2",attrs:{outlined:"",rounded:"",text:"",disabled:!t.valid_firmForm},on:{click:function(e){return e.stopPropagation(),t.onClick_confirm.apply(null,arguments)}}},[t._v(" "+t._s(t.text_confirmBtn)+" ")])],1)],1)],1)},Q=[],J={name:"FirmDialog",components:{},data:function(){return{valid_firmForm:!1,text_requiredRules:[function(t){return!!t||"必填"}],text_requiredRules_isNumber:[function(t){return!!t||"必填"},function(t){return!!parseFloat(t)||"必須為數字"}]}},props:{prop_firmDialog:{type:Boolean,required:!0},prop_text_cardTitle:{type:String,required:!0},prop_text_confirmBtn:{type:String,required:!0},prop_firmID:{type:Number,required:!1},prop_firmName:{type:String,required:!1},prop_firmAddress:{type:String,required:!1},prop_remark:{type:String,required:!1}},computed:{firmDialog:{get:function(){return this.prop_firmDialog},set:function(t){this.$emit("update:prop_firmDialog",t)}},text_cardTitle:{get:function(){return this.prop_text_cardTitle},set:function(t){this.$emit("update:prop_text_cardTitle",t)}},text_confirmBtn:{get:function(){return this.prop_text_confirmBtn},set:function(t){this.$emit("update:prop_text_confirmBtn",t)}},firmID:{get:function(){return this.prop_firmID},set:function(t){this.$emit("update:prop_firmID",t)}},firmName:{get:function(){return this.prop_firmName},set:function(t){this.$emit("update:prop_firmName",t)}},firmAddress:{get:function(){return this.prop_firmAddress},set:function(t){this.$emit("update:prop_firmAddress",t)}},remark:{get:function(){return this.prop_remark},set:function(t){this.$emit("update:prop_remark",t)}}},methods:{onClick_confirm:function(){if(this.$refs.form.validate(),0!=this.valid_firmForm){var t={};t.firmID=this.firmID,t.firmName=this.firmName,t.firmAddress=this.firmAddress,t.remark=this.remark,this.$emit("confirmClick",t),this.resetForm()}},onClick_cancel:function(){this.firmDialog=!1,this.resetForm()},resetForm:function(){this.firmID=null,this.firmName=null,this.firmAddress=null,this.remark=null,this.$refs.form.reset()}},watch:{firmDialog:function(){0==this.firmDialog&&this.resetForm()}}},G=J,z=Object(m["a"])(G,K,Q,!1,null,null,null),U=z.exports;g()(z,{VBtn:_["a"],VCard:v["a"],VCardTitle:y["c"],VCol:k["a"],VContainer:x["a"],VDialog:D["a"],VForm:C["a"],VRow:T["a"],VTextField:S["a"]});var X=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{fullscreen:""},on:{"click:outside":t.onClick_cancel},model:{value:t.settingDialog,callback:function(e){t.settingDialog=e},expression:"settingDialog"}},[i("v-card",{staticClass:"d-flex align-center flex-column justify-center"},[i("v-card-title",{staticClass:"text-h5"},[t._v(" "+t._s(t.text_cardTitle)+" ")]),i("v-container",{staticClass:"pa-6"},[i("v-row",[i("v-col",{staticClass:"ml-auto mr-auto",attrs:{cols:"12",sm:"6"}},[i("v-form",{ref:"form",model:{value:t.valid_settingForm,callback:function(e){t.valid_settingForm=e},expression:"valid_settingForm"}},[i("v-text-field",{attrs:{label:"大叔抽成(%)",rules:t.text_requiredRules_isNumber,"prepend-icon":"mdi-truck",autofocus:"",required:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.onClick_confirm.apply(null,arguments))}},model:{value:t.ajeossi,callback:function(e){t.ajeossi=e},expression:"ajeossi"}}),i("v-text-field",{attrs:{label:"國際運費",rules:t.text_requiredRules_isNumber,"prepend-icon":"mdi-ferry",required:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.onClick_confirm.apply(null,arguments))}},model:{value:t.shippingFee,callback:function(e){t.shippingFee=e},expression:"shippingFee"}}),i("v-text-field",{attrs:{label:"匯率",rules:t.text_requiredRules_isNumber,"prepend-icon":"mdi-cash-marker",required:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.onClick_confirm.apply(null,arguments))}},model:{value:t.exchangeRate,callback:function(e){t.exchangeRate=e},expression:"exchangeRate"}}),i("v-text-field",{attrs:{label:"關稅",rules:t.text_requiredRules_isNumber,"prepend-icon":"mdi-cash-lock",required:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.onClick_confirm.apply(null,arguments))}},model:{value:t.tariff,callback:function(e){t.tariff=e},expression:"tariff"}}),i("v-text-field",{attrs:{label:"定價倍率",rules:t.text_requiredRules_isNumber,"prepend-icon":"mdi-cash-plus",required:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.onClick_confirm.apply(null,arguments))}},model:{value:t.markup,callback:function(e){t.markup=e},expression:"markup"}})],1)],1)],1)],1),i("v-card-actions",{staticClass:"pa-6 pt-3"},[i("v-spacer"),i("v-btn",{attrs:{outlined:"",rounded:"",text:""},on:{click:function(e){return e.stopPropagation(),t.onClick_cancel.apply(null,arguments)}}},[t._v(" 取消 ")]),i("v-btn",{attrs:{outlined:"",rounded:"",text:"",disabled:!t.valid_settingForm},on:{click:function(e){return e.stopPropagation(),t.onClick_confirm.apply(null,arguments)}}},[t._v(" "+t._s(t.text_confirmBtn)+" ")])],1)],1)],1)},Y=[],Z={name:"SettingDialog",components:{},data:function(){return{valid_settingForm:!1,text_requiredRules:[function(t){return!!t||"必填"}],text_requiredRules_isNumber:[function(t){return!!t||"必填"},function(t){return!!parseFloat(t)||"必須為數字"}]}},props:{prop_settingDialog:{type:Boolean,required:!0},prop_text_cardTitle:{type:String,required:!0},prop_text_confirmBtn:{type:String,required:!0},prop_ajeossi:{type:String,required:!1},prop_shippingFee:{type:String,required:!1},prop_exchangeRate:{type:String,required:!1},prop_tariff:{type:String,required:!1},prop_markup:{type:String,required:!1}},computed:{settingDialog:{get:function(){return this.prop_settingDialog},set:function(t){this.$emit("update:prop_settingDialog",t)}},text_cardTitle:{get:function(){return this.prop_text_cardTitle},set:function(t){this.$emit("update:prop_text_cardTitle",t)}},text_confirmBtn:{get:function(){return this.prop_text_confirmBtn},set:function(t){this.$emit("update:prop_text_confirmBtn",t)}},ajeossi:{get:function(){return this.prop_ajeossi},set:function(t){this.$emit("update:prop_ajeossi",t)}},shippingFee:{get:function(){return this.prop_shippingFee},set:function(t){this.$emit("update:prop_shippingFee",t)}},exchangeRate:{get:function(){return this.prop_exchangeRate},set:function(t){this.$emit("update:prop_exchangeRate",t)}},tariff:{get:function(){return this.prop_tariff},set:function(t){this.$emit("update:prop_tariff",t)}},markup:{get:function(){return this.prop_markup},set:function(t){this.$emit("update:prop_markup",t)}}},methods:{onClick_confirm:function(){if(this.$refs.form.validate(),0!=this.valid_settingForm){var t={};t.ajeossi=this.ajeossi,t.shippingFee=this.shippingFee,t.exchangeRate=this.exchangeRate,t.tariff=this.tariff,t.markup=this.markup,this.$emit("confirmClick",t),this.resetForm()}},onClick_cancel:function(){this.settingDialog=!1,this.resetForm()},resetForm:function(){this.ajeossi=null,this.shippingFee=null,this.exchangeRate=null,this.tariff=null,this.markup=null,this.$refs.form.reset()}},watch:{settingDialog:function(){0==this.settingDialog&&this.resetForm()}}},tt=Z,et=Object(m["a"])(tt,X,Y,!1,null,null,null),it=et.exports;g()(et,{VBtn:_["a"],VCard:v["a"],VCardActions:y["a"],VCardTitle:y["c"],VCol:k["a"],VContainer:x["a"],VDialog:D["a"],VForm:C["a"],VRow:T["a"],VSpacer:P["a"],VTextField:S["a"]});var rt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("transition",{attrs:{name:"slide-x-reverse-transition"}},[i("v-alert",{directives:[{name:"show",rawName:"v-show",value:t.alertSuccess,expression:"alertSuccess"}],staticClass:"alert_top_right",attrs:{border:"left",color:"green darken-4",type:"success",dark:""}},[t._v(" "+t._s(t.alertText)+" ")])],1),i("transition",[i("v-alert",{directives:[{name:"show",rawName:"v-show",value:t.alertFail,expression:"alertFail"}],staticClass:"alert_top_right",attrs:{border:"left",color:"red darken-4",type:"warning",dark:""}},[t._v(" "+t._s(t.alertText)+" ")])],1)],1)},nt=[],ot={name:"Alert",data:function(){return{alertSuccess:!1,alertFail:!1}},props:{prop_alert:{type:Boolean,required:!0},prop_alertType:{type:String,required:!0},prop_alertText:{type:String,required:!0}},computed:{alert:{get:function(){return this.prop_alert},set:function(t){this.$emit("update:prop_alert",t)}},alertType:{get:function(){return this.prop_alertType},set:function(t){this.$emit("update:prop_alertType",t)}},alertText:{get:function(){return this.prop_alertText},set:function(t){this.$emit("update:prop_alertText",t)}}},watch:{alert:function(){var t=this;if("Success"==t.alertType){t.alertSuccess=!0;var e=setInterval((function(){t.alert=!1,t.alertSuccess=!1,t.alertType="",t.alertText="",clearInterval(e)}),3e3)}else if("Fail"==t.alertType){t.alertFail=!0;e=setInterval((function(){t.alert=!1,t.alertFail=!1,t.alertType="",t.alertText="",clearInterval(e)}),3e3)}}}},at=ot,ct=(i("75cb"),i("0798")),st=Object(m["a"])(at,rt,nt,!1,null,"61aedf33",null),pt=st.exports;g()(st,{VAlert:ct["a"]});var lt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{fullscreen:""},on:{"click:outside":t.onClick_cancel,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.onClick_confirm.apply(null,arguments))}},model:{value:t.confirmDialog,callback:function(e){t.confirmDialog=e},expression:"confirmDialog"}},[i("v-card",{staticClass:"d-flex align-center flex-column justify-center"},[i("v-card-title",{staticClass:"text-h5"},[t._v(" "+t._s(t.text_cardTitle)+" ")]),i("v-container",{staticClass:"pa-6"},[i("v-row",[i("v-col",{staticClass:"ml-auto mr-auto",attrs:{xs:"12",sm:"6"}},[t.deleteTarget?i("div",{staticClass:"d-flex flex-column justify-center align-center"},[null!=t.deleteTarget.Name?i("h2",[t._v(" "+t._s(t.deleteTarget.Name)+" ")]):i("h2",[t._v(" "+t._s(t.deleteTarget.ProductName)+" ")]),null!=t.deleteTarget.ID?i("h4",{staticClass:"font-weight-thin"},[t._v(" "+t._s(t.deleteTarget.ID)+" ")]):i("h4",{staticClass:"font-weight-thin"},[t._v(" "+t._s(t.deleteTarget.ProductID)+" ")])]):t._e()])],1)],1),i("v-card-actions",{staticClass:"pa-6 pt-3"},[i("v-spacer"),i("v-btn",{attrs:{outlined:"",rounded:"",text:""},on:{click:function(e){return e.stopPropagation(),t.onClick_cancel.apply(null,arguments)}}},[t._v(" 取消 ")]),i("v-btn",{attrs:{outlined:"",rounded:"",text:""},on:{click:function(e){return e.stopPropagation(),t.onClick_confirm.apply(null,arguments)}}},[t._v(" "+t._s(t.text_confirmBtn)+" ")])],1)],1)],1)},ut=[],dt={name:"ConfirmDialog",components:{},data:function(){return{}},props:{prop_confirmDialog:{type:Boolean,required:!0},prop_text_cardTitle:{type:String,required:!0},prop_text_confirmBtn:{type:String,required:!0},prop_deleteTarget:{type:Object,required:!1}},computed:{confirmDialog:{get:function(){return this.prop_confirmDialog},set:function(t){this.$emit("update:prop_confirmDialog",t)}},text_cardTitle:{get:function(){return this.prop_text_cardTitle},set:function(t){this.$emit("update:prop_text_cardTitle",t)}},text_confirmBtn:{get:function(){return this.prop_text_confirmBtn},set:function(t){this.$emit("update:prop_text_confirmBtn",t)}},deleteTarget:{get:function(){return this.prop_deleteTarget},set:function(t){this.$emit("update:prop_deleteTarget",t)}}},methods:{onClick_confirm:function(){this.$emit("confirmClick",this.deleteTarget),this.resetForm()},onClick_cancel:function(){this.confirmDialog=!1,this.resetForm()},resetForm:function(){this.deleteTarget=null}},watch:{confirmDialog:function(){0==this.confirmDialog&&this.resetForm()}}},ft=dt,mt=Object(m["a"])(ft,lt,ut,!1,null,null,null),ht=mt.exports;g()(mt,{VBtn:_["a"],VCard:v["a"],VCardActions:y["a"],VCardTitle:y["c"],VCol:k["a"],VContainer:x["a"],VDialog:D["a"],VRow:T["a"],VSpacer:P["a"]});var gt=i("19de"),_t={name:"Products",components:{PurchaseDialog:b,ProductDialog:R,ProductInfoDialog:H,FirmDialog:U,SettingDialog:it,Alert:pt,ConfirmDialog:ht},data:function(){return{oldActiveType:null,search:"",id:"",productList:[],firmList:[],tradingSettings:{},deliveryObj:{},productHeader:[{text:"商品編號",value:"ProductSku",width:"12%"},{text:"商品名稱",value:"ProductName"},{text:"批價(KRW)",value:"KrwWholesalePrice",width:"11%"},{text:"批價(TWD)",value:"NtdWholesalePrice",width:"11%"},{text:"定價(TWD)",value:"NtdListPrice",width:"11%"},{text:"售價(TWD)",value:"NtdSellingPrice",width:"11%"},{text:"總成本(TWD)",value:"NtdCost",width:"11%"},{text:"",value:"actions",sortable:!1,width:"11%"}],productHeaderLess:[{text:"商品編號",value:"ProductSku"},{text:"商品名稱",value:"ProductName"},{text:"庫存(個)",value:"Stocks"}],firmHeader:[{text:"廠商名稱",value:"Name"},{text:"廠商地址",value:"Address"},{text:"備註",value:"Remark"},{text:"",value:"actions",sortable:!1,width:"10%"}],deliveryHeader:[{text:"商品編號",value:"ProductSku"},{text:"商品名稱",value:"DeliveryProductName"},{text:"商品售價",value:"NtdRetailPrice"},{text:"購買數量",value:"DeliveryProductQty"},{text:"商品小計",value:"DeliveryProductSubtotal"}],text_cardTitle:"新增",text_confirmBtn:"新增",purchaseDialog:!1,productDialog:!1,productInfoDialog:!1,actionType:null,productID:null,productSku:null,purchaseProductID:null,productName:null,productType:null,productImgName:null,productImgID:null,productStocks:null,productWeight:null,krwWholesalePrice:null,ntdWholesalePrice:null,ntdListPrice:null,ntdSellingPrice:null,ntdCnf:null,ntdCost:null,firmID:null,firmDialog:!1,firmName:null,firmAddress:null,remark:null,settingDialog:!1,ajeossi:null,shippingFee:null,exchangeRate:null,tariff:null,markup:null,alert:!1,alertType:"",alertText:"",alertTimeoutID:null,confirmDialog:!1,deleteTarget:null}},mounted:function(){p()("command+/",this.onFocus_searchFields),p()("ctrl+/",this.onFocus_searchFields),this.getProductList(),this.getFirmList(),this.getTradingSettings()},props:{prop_activeType:{type:Number,required:!0}},computed:{activeType:{get:function(){return this.prop_activeType},set:function(t){this.$emit("update:prop_activeType",t)}}},methods:{deleteItem:function(t){1==this.activeType?this.deleteProduct(t):2==this.activeType&&this.deleteFirm(t)},headerSelector:function(){return 0==this.activeType?this.productHeaderLess:1==this.activeType?this.productHeader:2==this.activeType?this.firmHeader:3==this.activeType?this.deliveryHeader:void 0},contentSelector:function(){return 0==this.activeType||1==this.activeType?this.productList:2==this.activeType?this.firmList:3==this.activeType?this.deliveryObj.Products:void 0},onFocus_searchFields:function(){this.$refs.searchField.focus()},onClick_search:function(){this.getDeliveryOrder()},onClick_row:function(t){0==this.activeType?(this.productID=t.ProductID,this.productSku=t.ProductSku,this.productName=t.ProductName,this.productStocks=t.Stocks,this.text_cardTitle="新增庫存",this.text_confirmBtn="增加",this.purchaseDialog=!0):1==this.activeType&&(this.productID=t.ProductID,this.productSku=t.ProductSku,this.productName=t.ProductName,this.productType=t.ProductType,this.productImgID=t.ProductImgID,this.productStocks=t.Stocks,this.productWeight=t.Weight.toString(),this.krwWholesalePrice=t.KrwWholesalePrice.toString(),this.ntdWholesalePrice=t.NtdWholesalePrice.toString(),this.ntdListPrice=t.NtdListPrice.toString(),this.ntdSellingPrice=t.NtdSellingPrice.toString(),this.ntdCnf=t.NtdCnf.toString(),this.ntdCost=t.NtdCost.toString(),this.purchaseProductID=t.PurchaseProductID,this.firmID=t.FirmInfo.ID,this.productInfoDialog=!0)},onClick_newButton:function(){1==this.activeType?(this.text_cardTitle="新增商品",this.text_confirmBtn="新增",this.actionType="post",this.productDialog=!0):2==this.activeType&&(this.text_cardTitle="新增廠商",this.text_confirmBtn="新增",this.actionType="post",this.firmDialog=!0)},onClick_editButton:function(t){1==this.activeType?(this.text_cardTitle="編輯商品",this.text_confirmBtn="修改",this.actionType="put",this.productID=t.ProductID,this.productSku=t.ProductSku,this.productName=t.ProductName,this.productType=t.ProductType,this.productImgName=t.ProductImgName,this.productImgID=t.ProductImgID,this.productStocks=t.Stocks,this.productWeight=t.Weight.toString(),this.krwWholesalePrice=t.KrwWholesalePrice.toString(),this.ntdWholesalePrice=t.NtdWholesalePrice.toString(),this.ntdListPrice=t.NtdListPrice.toString(),this.ntdSellingPrice=t.NtdSellingPrice.toString(),this.ntdCnf=t.NtdCnf.toString(),this.ntdCost=t.NtdCost.toString(),this.purchaseProductID=t.PurchaseProductID,this.firmID=t.FirmInfo.ID,this.productDialog=!0):2==this.activeType&&(this.text_cardTitle="編輯廠商",this.text_confirmBtn="修改",this.actionType="put",this.firmID=t.ID,this.firmName=t.Name,this.firmAddress=t.Address,this.remark=t.Remark,this.firmDialog=!0)},onClick_deleteButton:function(t){this.text_cardTitle="確認刪除",this.text_confirmBtn="刪除",this.confirmDialog=!0,this.deleteTarget=t},onClick_download:function(){1==this.activeType?this.dumpProducts():2==this.activeType&&this.dumpFirms()},onClick_removeDeliveryInfo:function(){this.deliveryObj={}},onClick_delivery:function(){this.postDeliveryOrder()},onClick_setting:function(){this.ajeossi=this.tradingSettings.Ajeossi.toString(),this.shippingFee=this.tradingSettings.ShippingFee.toString(),this.exchangeRate=this.tradingSettings.ExchangeRate.toString(),this.tariff=this.tradingSettings.Tariff.toString(),this.markup=this.tradingSettings.Markup.toString(),this.text_cardTitle="設定",this.text_confirmBtn="確定",this.settingDialog=!0},onPurchaseDialogConfirmClick:function(t){this.purchaseDialog=!1,this.postStocks(t.productID,t.quantity)},onProductDialogConfirmClick:function(t){this.productDialog=!1,"post"==this.actionType?this.postProduct(t):"put"==this.actionType&&this.putProduct(t)},onFirmDialogConfirmClick:function(t){this.firmDialog=!1,"post"==this.actionType?this.postFirm(t.firmName,t.firmAddress,t.remark):"put"==this.actionType&&this.putFirm(t)},onConfirmDialogConfirmClick:function(t){this.confirmDialog=!1,this.deleteItem(t)},onSettingDialogConfirmClick:function(t){this.settingDialog=!1,this.putTradingSettings(t)},getDeliveryOrder:function(){var t=this;this.axios.get("/deliveryorders/"+t.search).then((function(e){null!=e.data?(t.deliveryObj=e.data.order,t.search=""):t.deliveryObj={}})).catch((function(e){"DERR0"==e.response.data.code?(t.alert=!0,t.alertType="Fail",t.alertText="無法連線到EasyStore，請開啟EasyPick"):"DERR1"==e.response.data.code&&(t.alert=!0,t.alertType="Fail",t.alertText="商品資料缺少，請進入商品管理新增商品資訊")}))},postDeliveryOrder:function(){var t=this;this.axios.post("/deliveryorders",JSON.stringify({order:t.deliveryObj})).then((function(e){t.getProductList(),t.alert=!0,t.alertType="Success",t.alertText="出貨成功"})).catch((function(e){"DERR2"==e.response.data.code?(t.alert=!0,t.alertType="Fail",t.alertText="扣除商品失敗"):(t.alert=!0,t.alertType="Fail",t.alertText="出貨失敗")}))},getProductList:function(){var t=this;this.axios.get("/products").then((function(e){null!=e.data.products?t.productList=e.data.products:t.productList=[]})).catch((function(t){}))},getFirmList:function(){var t=this;this.axios.get("/firm").then((function(e){null!=e.data.firms?t.firmList=e.data.firms:t.firmList=[]})).catch((function(t){}))},getTradingSettings:function(){var t=this;this.axios.get("/tradings").then((function(e){null!=e.data.trading?t.tradingSettings=e.data.trading:t.tradingSettings={}})).catch((function(t){}))},putTradingSettings:function(t){var e=this,i=new FormData;i.append("ajeossi",t.ajeossi),i.append("shippingFee",t.shippingFee),i.append("exchangeRate",t.exchangeRate),i.append("tariff",t.tariff),i.append("markup",t.markup),this.axios.put("/tradings",i).then((function(t){e.getTradingSettings(),e.alert=!0,e.alertType="Success",e.alertText="修改設定成功"})).catch((function(t){e.alert=!0,e.alertType="Fail",e.alertText="修改設定失敗"}))},postFirm:function(t,e,i){var r=this,n=new FormData;n.append("name",t),n.append("address",e),n.append("remark",i),this.axios.post("/firm",n).then((function(t){r.getFirmList(),r.alert=!0,r.alertType="Success",r.alertText="新增廠商成功"})).catch((function(t){r.alert=!0,r.alertType="Fail",r.alertText="新增廠商失敗"}))},putFirm:function(t){var e=this,i=new FormData;i.append("name",t.firmName),i.append("address",t.firmAddress),i.append("remark",t.remark),this.axios.put("/firm/"+t.firmID,i).then((function(t){e.getFirmList(),e.alert=!0,e.alertType="Success",e.alertText="編輯廠商成功"})).catch((function(t){e.alert=!0,e.alertType="Fail",e.alertText="編輯廠商失敗"}))},deleteFirm:function(t){var e=this;this.axios.delete("/firm/"+t.ID).then((function(t){e.getFirmList(),e.alert=!0,e.alertType="Success",e.alertText="刪除廠商成功"})).catch((function(t){"FERR1"==t.response.data.code&&(e.alert=!0,e.alertType="Fail",e.alertText="尚有商品屬於此廠商，請先移除相關商品後再移除此廠商")}))},postProduct:function(t){var e=this,i=new FormData;i.append("productSku",t.productSku),i.append("purchaseProductID",t.purchaseProductID),i.append("productName",t.productName),i.append("productType",t.productType),i.append("weight",t.productWeight),i.append("krwWholesalePrice",t.krwWholesalePrice),i.append("ntdWholesalePrice",t.ntdWholesalePrice),i.append("ntdListPrice",t.ntdListPrice),i.append("ntdSellingPrice",t.ntdSellingPrice),i.append("ntdCnf",t.ntdCnf),i.append("ntdCost",t.ntdCost),i.append("firmID",t.firmID),t.imgFile!=t.fooFile&&i.append("imgFile",t.imgFile),this.axios.post("/products",i).then((function(t){e.getProductList(),e.alert=!0,e.alertType="Success",e.alertText="新增商品成功"})).catch((function(t){"PERR1"==t.response.data.code?(e.alert=!0,e.alertType="Fail",e.alertText="商品編號已存在"):(e.alert=!0,e.alertType="Fail",e.alertText="新增商品失敗")}))},putProduct:function(t){var e=this,i=new FormData;i.append("purchaseProductID",t.purchaseProductID),i.append("productSku",t.productSku),i.append("productName",t.productName),i.append("productType",t.productType),i.append("weight",t.productWeight),i.append("krwWholesalePrice",t.krwWholesalePrice),i.append("ntdWholesalePrice",t.ntdWholesalePrice),i.append("ntdListPrice",t.ntdListPrice),i.append("ntdSellingPrice",t.ntdSellingPrice),i.append("ntdCnf",t.ntdCnf),i.append("ntdCost",t.ntdCost),i.append("firmID",t.firmID),t.imgFile!=t.fooFile?null!=t.fooFile&&null==t.imgFile?(i.append("delImgID",t.productImgID),i.append("productImgName",""),i.append("productImgID","")):null==t.fooFile&&null!=t.imgFile?i.append("imgFile",t.imgFile):null!=t.fooFile&&null!=t.imgFile&&(i.append("delImgID",t.productImgID),i.append("imgFile",t.imgFile)):(i.append("productImgName",t.productImgName),i.append("productImgID",t.productImgID)),this.axios.put("/products/"+t.productID,i).then((function(t){e.getProductList(),e.alert=!0,e.alertType="Success",e.alertText="編輯商品成功"})).catch((function(t){e.alert=!0,e.alertType="Fail",e.alertText="編輯商品失敗"}))},deleteProduct:function(t){var e=this;this.axios.delete("/products/"+t.ProductID).then((function(t){e.getProductList(),e.alert=!0,e.alertType="Success",e.alertText="刪除商品成功"})).catch((function(t){e.alert=!0,e.alertType="Fail",e.alertText="刪除商品失敗"}))},dumpProducts:function(){this.axios({url:"/products/dumping",method:"GET",responseType:"blob"}).then((function(t){t.data&&gt(t.data,"products.csv")})).catch((function(t){}))},dumpFirms:function(){this.axios({url:"/firm/dumping",method:"GET",responseType:"blob"}).then((function(t){null!=t.data&&gt(t.data,"firms.csv")})).catch((function(t){}))},postStocks:function(t,e){var i=this,r=new FormData;r.append("qty",e),this.axios.post("/stocks/"+t,r).then((function(t){i.getProductList(),i.alert=!0,i.alertType="Success",i.alertText="新增庫存成功"})).catch((function(t){i.alert=!0,i.alertType="Fail",i.alertText="新增庫存失敗"}))}},watch:{activeType:function(){3!=this.activeType&&3==this.oldActiveType&&(this.search=""),this.oldActiveType=this.activeType}}},vt=_t,yt=i("8fea"),kt=i("da13"),xt=i("5d23"),Dt=Object(m["a"])(vt,a,c,!1,null,null,null),Ct=Dt.exports;g()(Dt,{VBtn:_["a"],VCard:v["a"],VCol:k["a"],VContainer:x["a"],VDataTable:yt["a"],VIcon:E["a"],VListItem:kt["a"],VListItemContent:xt["a"],VListItemSubtitle:xt["b"],VListItemTitle:xt["c"],VRow:T["a"],VSpacer:P["a"],VTextField:S["a"]});var Tt={name:"App",components:{Products:Ct,ProductDialog:R},data:function(){return{activeType:-1,purchaseDialog:!1}},methods:{}},Pt=Tt,St=i("7496"),It=i("40dc"),bt=i("b81c"),wt=i("f6c4"),Ft=Object(m["a"])(Pt,n,o,!1,null,null,null),Nt=Ft.exports;g()(Ft,{VApp:St["a"],VAppBar:It["a"],VBottomNavigation:bt["a"],VBtn:_["a"],VIcon:E["a"],VMain:wt["a"]});var Wt=i("9483");Object(Wt["a"])("".concat("/daymood/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var qt=i("8c4f");r["a"].use(qt["a"]);var $t=[],jt=new qt["a"]({mode:"history",base:"/daymood/",routes:$t}),Rt=jt,Lt=i("f309");r["a"].use(Lt["a"]);var Vt=new Lt["a"]({theme:{dark:!0}}),Bt=i("bc3a"),Ot=i.n(Bt),Et=i("130e");r["a"].config.productionTip=!1,r["a"].use(Et["a"],Ot.a),new r["a"]({router:Rt,vuetify:Vt,render:function(t){return t(Nt)}}).$mount("#app")},"5bcc":function(t,e,i){t.exports=i.p+"img/8467417.83319f55.png"},"75cb":function(t,e,i){"use strict";i("244d")},bc52:function(t,e,i){},c395:function(t,e,i){"use strict";i("bc52")}});
//# sourceMappingURL=app.da417fa7.js.map